#! /usr/bin/env node
"use strict";var t=require("node:fs"),e=require("node:path"),i=require("readline"),s=require("events"),r=require("path");function n(t,e,i,s){return new(i||(i=Promise))((function(r,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function h(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}l((s=s.apply(t,e||[])).next())}))}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=function(t,e){e||(e={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof e.unknown&&(i.unknownFn=e.unknown),"boolean"==typeof e.boolean&&e.boolean?i.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach((function(t){i.bools[t]=!0}));var s={};Object.keys(e.alias||{}).forEach((function(t){s[t]=[].concat(e.alias[t]),s[t].forEach((function(e){s[e]=[t].concat(s[t].filter((function(t){return e!==t})))}))})),[].concat(e.string).filter(Boolean).forEach((function(t){i.strings[t]=!0,s[t]&&(i.strings[s[t]]=!0)}));var r=e.default||{},n={_:[]};Object.keys(i.bools).forEach((function(t){h(t,void 0!==r[t]&&r[t])}));var o=[];function h(t,e,r){if(!r||!i.unknownFn||function(t,e){return i.allBools&&/^--[^=]+$/.test(e)||i.strings[t]||i.bools[t]||s[t]}(t,r)||!1!==i.unknownFn(r)){var o=!i.strings[t]&&l(e)?Number(e):e;a(n,t.split("."),o),(s[t]||[]).forEach((function(t){a(n,t.split("."),o)}))}}function a(t,e,s){for(var r=t,n=0;n<e.length-1;n++){if(u(r,o=e[n]))return;void 0===r[o]&&(r[o]={}),r[o]!==Object.prototype&&r[o]!==Number.prototype&&r[o]!==String.prototype||(r[o]={}),r[o]===Array.prototype&&(r[o]=[]),r=r[o]}var o;u(r,o=e[e.length-1])||(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[o]||i.bools[o]||"boolean"==typeof r[o]?r[o]=s:Array.isArray(r[o])?r[o].push(s):r[o]=[r[o],s])}function c(t){return s[t].some((function(t){return i.bools[t]}))}-1!==t.indexOf("--")&&(o=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var d=0;d<t.length;d++){var p=t[d];if(/^--.+=/.test(p)){var f=p.match(/^--([^=]+)=([\s\S]*)$/),g=f[1],m=f[2];i.bools[g]&&(m="false"!==m),h(g,m,p)}else if(/^--no-.+/.test(p)){h(g=p.match(/^--no-(.+)/)[1],!1,p)}else if(/^--.+/.test(p)){g=p.match(/^--(.+)/)[1];void 0===(w=t[d+1])||/^-/.test(w)||i.bools[g]||i.allBools||s[g]&&c(g)?/^(true|false)$/.test(w)?(h(g,"true"===w,p),d++):h(g,!i.strings[g]||"",p):(h(g,w,p),d++)}else if(/^-[^-]+/.test(p)){for(var v=p.slice(1,-1).split(""),y=!1,b=0;b<v.length;b++){var w;if("-"!==(w=p.slice(b+2))){if(/[A-Za-z]/.test(v[b])&&/=/.test(w)){h(v[b],w.split("=")[1],p),y=!0;break}if(/[A-Za-z]/.test(v[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(w)){h(v[b],w,p),y=!0;break}if(v[b+1]&&v[b+1].match(/\W/)){h(v[b],p.slice(b+2),p),y=!0;break}h(v[b],!i.strings[v[b]]||"",p)}else h(v[b],w,p)}g=p.slice(-1)[0];y||"-"===g||(!t[d+1]||/^(-|--)[^-]/.test(t[d+1])||i.bools[g]||s[g]&&c(g)?t[d+1]&&/^(true|false)$/.test(t[d+1])?(h(g,"true"===t[d+1],p),d++):h(g,!i.strings[g]||"",p):(h(g,t[d+1],p),d++))}else if(i.unknownFn&&!1===i.unknownFn(p)||n._.push(i.strings._||!l(p)?p:Number(p)),e.stopEarly){n._.push.apply(n._,t.slice(d+1));break}}return Object.keys(r).forEach((function(t){(function(t,e){var i=t;e.slice(0,-1).forEach((function(t){i=i[t]||{}}));var s=e[e.length-1];return s in i})(n,t.split("."))||(a(n,t.split("."),r[t]),(s[t]||[]).forEach((function(e){a(n,e.split("."),r[t])})))})),e["--"]?(n["--"]=new Array,o.forEach((function(t){n["--"].push(t)}))):o.forEach((function(t){n._.push(t)})),n};function l(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}function u(t,e){return"constructor"===e&&"function"==typeof t[e]||"__proto__"===e}var a,c,d,p,f,g,m,v,y,b,w,x,S,$,O,M,T,j,k,P,C,_,E,D,I,A,F,R,V,Y,N,L,H,U,B,z,K,q,J,W,G,Z,Q,X,tt,et,it,st,rt,nt,ot,ht,lt,ut,at,ct,dt,pt,ft,gt,mt,vt,yt,bt,wt,xt,St,$t={};function Ot(){if(c)return a;c=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:i}=process.env,s={enabled:!e&&"dumb"!==i&&"0"!==t,reset:n(0,0),bold:n(1,22),dim:n(2,22),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),grey:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49)};function r(t,e){let i,s=0,r="",n="";for(;s<t.length;s++)i=t[s],r+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return r+e+n}function n(t,e){let i={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),void 0===e?this:s.enabled?r(this.keys,e+""):e+""):void 0===e?function(t,e){let i={has:t,keys:e};return i.reset=s.reset.bind(i),i.bold=s.bold.bind(i),i.dim=s.dim.bind(i),i.italic=s.italic.bind(i),i.underline=s.underline.bind(i),i.inverse=s.inverse.bind(i),i.hidden=s.hidden.bind(i),i.strikethrough=s.strikethrough.bind(i),i.black=s.black.bind(i),i.red=s.red.bind(i),i.green=s.green.bind(i),i.yellow=s.yellow.bind(i),i.blue=s.blue.bind(i),i.magenta=s.magenta.bind(i),i.cyan=s.cyan.bind(i),i.white=s.white.bind(i),i.gray=s.gray.bind(i),i.grey=s.grey.bind(i),i.bgBlack=s.bgBlack.bind(i),i.bgRed=s.bgRed.bind(i),i.bgGreen=s.bgGreen.bind(i),i.bgYellow=s.bgYellow.bind(i),i.bgBlue=s.bgBlue.bind(i),i.bgMagenta=s.bgMagenta.bind(i),i.bgCyan=s.bgCyan.bind(i),i.bgWhite=s.bgWhite.bind(i),i}([t],[i]):s.enabled?r([i],e+""):e+""}}return a=s}function Mt(){return g?f:(g=1,f=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function Tt(){if(v)return m;v=1;const t="[",e={to:(e,i)=>i?`${t}${i+1};${e+1}H`:`${t}${e+1}G`,move(e,i){let s="";return e<0?s+=`${t}${-e}D`:e>0&&(s+=`${t}${e}C`),i<0?s+=`${t}${-i}A`:i>0&&(s+=`${t}${i}B`),s},up:(e=1)=>`${t}${e}A`,down:(e=1)=>`${t}${e}B`,forward:(e=1)=>`${t}${e}C`,backward:(e=1)=>`${t}${e}D`,nextLine:(e=1)=>`${t}E`.repeat(e),prevLine:(e=1)=>`${t}F`.repeat(e),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:"7",restore:"8"},i={screen:`${t}2J`,up:(e=1)=>`${t}1J`.repeat(e),down:(e=1)=>`${t}J`.repeat(e),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(t){let i="";for(let s=0;s<t;s++)i+=this.line+(s<t-1?e.up():"");return t&&(i+=e.left),i}};return m={cursor:e,scroll:{up:(e=1)=>`${t}S`.repeat(e),down:(e=1)=>`${t}T`.repeat(e)},erase:i,beep:""}}function jt(){if(b)return y;function t(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(t,i)}(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return h=t.done,t},e:function(t){l=!0,o=t},f:function(){try{h||null==s.return||s.return()}finally{if(l)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}b=1;const i=Mt(),s=Tt(),r=s.erase,n=s.cursor;return y=function(e,s){if(!s)return r.line+n.to(0);let o=0;var h,l=t(e.split(/\r?\n/));try{for(l.s();!(h=l.n()).done;){let t=h.value;o+=1+Math.floor(Math.max([...i(t)].length-1,0)/s)}}catch(t){l.e(t)}finally{l.f()}return r.lines(o)},y}function kt(){if(x)return w;x=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return w=i}function Pt(){if($)return S;$=1;const t=Ot(),e=kt(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),s=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return S={styles:i,render:t=>i[t]||i.default,symbols:s,symbol:(t,e,i)=>e?s.aborted:i?s.exited:t?s.done:s.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,s)=>t.gray(i?s?e.pointerSmall:"+":e.line)}}function Ct(){if(M)return O;M=1;const t=Mt();return O=function(e,i){let s=String(t(e)||"").split(/\r?\n/);return i?s.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):s.length},O}function _t(){return _?C:(_=1,C={action:p?d:(p=1,d=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:jt(),style:Pt(),strip:Mt(),figures:kt(),lines:Ct(),wrap:j?T:(j=1,T=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=s||t[t.length-1].length+e.length+1<s?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),entriesToDisplay:P?k:(P=1,k=(t,e,i)=>{i=i||e;let s=Math.min(e-i,t-Math.floor(i/2));return s<0&&(s=0),{startIndex:s,endIndex:Math.min(s+i,e)}})})}function Et(){if(D)return E;D=1;const t=i,e=_t().action,r=s,n=Tt(),o=n.beep,h=n.cursor,l=Ot();return E=class extends r{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const s=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,s),this.in.isTTY&&this.in.setRawMode(!0);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,i)=>{let s=e(i,r);!1===s?this._&&this._(t,i):"function"==typeof this[s]?this[s](i):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),s.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(o)}render(){this.onRender(l),this.firstRender&&(this.firstRender=!1)}}}function Dt(){if(A)return I;function t(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function e(e){return function(){var i=this,s=arguments;return new Promise((function(r,n){var o=e.apply(i,s);function h(e){t(o,r,n,h,l,"next",e)}function l(e){t(o,r,n,h,l,"throw",e)}h(void 0)}))}}A=1;const i=Ot(),s=Et(),r=Tt(),n=r.erase,o=r.cursor,h=_t(),l=h.style,u=h.clear,a=h.lines,c=h.figures;return I=class extends s{constructor(t={}){super(t),this.transform=l.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(a(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),i.bold(this.msg),l.delimiter(this.done),this.red?i.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":c.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(n.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}}function It(){if(R)return F;R=1;const t=Ot(),e=Et(),i=_t(),s=i.style,r=i.clear,n=i.figures,o=i.wrap,h=i.entriesToDisplay,l=Tt().cursor;return F=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=r("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(r(this.outputText,this.out.columns)),super.render();let e=h(this.cursor,this.choices.length,this.optionsPerPage),i=e.startIndex,u=e.endIndex;if(this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=i;e<u;e++){let s,r,h="",l=this.choices[e];r=e===i&&i>0?n.arrowUp:e===u-1&&u<this.choices.length?n.arrowDown:" ",l.disabled?(s=this.cursor===e?t.gray().underline(l.title):t.strikethrough().gray(l.title),r=(this.cursor===e?t.bold().gray(n.pointer)+" ":"  ")+r):(s=this.cursor===e?t.cyan().underline(l.title):l.title,r=(this.cursor===e?t.cyan(n.pointer)+" ":"  ")+r,l.description&&this.cursor===e&&(h=` - ${l.description}`,(r.length+s.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h="\n"+o(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${r} ${s}${t.gray(h)}\n`}}this.out.write(this.outputText)}}}function At(){if(Y)return V;Y=1;const t=Ot(),e=Et(),i=_t(),s=i.style,r=i.clear,n=Tt(),o=n.cursor,h=n.erase;return V=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(h.line+o.to(0)+this.outputText))}}}function Ft(){if(L)return N;L=1;class t{constructor({token:t,date:e,parts:i,locales:s}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,s)=>s>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,s)=>s>i&&e instanceof t))}toString(){return String(this.date)}}return N=t}function Rt(){if(U)return H;U=1;const t=Ft();return H=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}},H}function Vt(){if(z)return B;z=1;const t=Ft();return B=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},B}function Yt(){if(q)return K;q=1;const t=Ft();return K=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}},K}function Nt(){if(W)return J;W=1;const t=Ft();return J=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Lt(){if(Z)return G;Z=1;const t=Ft();return G=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Ht(){if(X)return Q;X=1;const t=Ft();return Q=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}},Q}function Ut(){if(et)return tt;et=1;const t=Ft();return tt=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Bt(){if(st)return it;st=1;const t=Ft();return it=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}},it}function zt(){if(ht)return ot;function t(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function e(e){return function(){var i=this,s=arguments;return new Promise((function(r,n){var o=e.apply(i,s);function h(e){t(o,r,n,h,l,"next",e)}function l(e){t(o,r,n,h,l,"throw",e)}h(void 0)}))}}ht=1;const i=Ot(),s=Et(),r=_t(),n=r.style,o=r.clear,h=r.figures,l=Tt(),u=l.erase,a=l.cursor,c=nt?rt:(nt=1,rt={DatePart:Ft(),Meridiem:Rt(),Day:Vt(),Hours:Yt(),Milliseconds:Nt(),Minutes:Lt(),Month:Ht(),Seconds:Ut(),Year:Bt()}),d=c.DatePart,p=c.Meridiem,f=c.Day,g=c.Hours,m=c.Milliseconds,v=c.Minutes,y=c.Month,b=c.Seconds,w=c.Year,x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new f(t),3:t=>new y(t),4:t=>new w(t),5:t=>new p(t),6:t=>new g(t),7:t=>new v(t),8:t=>new b(t),9:t=>new m(t)},$={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return ot=class extends s{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign($,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=x.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in S?S[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof d))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof d))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(!1),this.parts.reduce(((t,e,s)=>t.concat(s!==this.cursor||this.done?e:i.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":h.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(u.line+a.to(0)+this.outputText))}},ot}function Kt(){if(ut)return lt;function t(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function e(e){return function(){var i=this,s=arguments;return new Promise((function(r,n){var o=e.apply(i,s);function h(e){t(o,r,n,h,l,"next",e)}function l(e){t(o,r,n,h,l,"throw",e)}h(void 0)}))}}ut=1;const i=Ot(),s=Et(),r=Tt(),n=r.cursor,o=r.erase,h=_t(),l=h.style,u=h.figures,a=h.clear,c=h.lines,d=/[0-9]/,p=t=>void 0!==t,f=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return lt=class extends s{constructor(t={}){super(t),this.transform=l.render(t.style),this.msg=t.message,this.initial=p(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=p(t.min)?t.min:-1/0,this.max=p(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${f(t,this.round)}`),this._value=f(t,this.round)):(this.placeholder=!0,this.rendered=i.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||d.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(c(this.outputError,this.out.columns)-1)+a(this.outputError,this.out.columns)),this.out.write(a(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),i.bold(this.msg),l.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:i[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":u.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(o.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore))}}}function qt(){if(ct)return at;ct=1;const t=Ot(),e=Tt().cursor,i=Et(),s=_t(),r=s.clear,n=s.figures,o=s.style,h=s.wrap,l=s.entriesToDisplay;return at=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=r("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,s,r){const o=(i.selected?t.green(n.radioOn):n.radioOff)+" "+r+" ";let l,u;return i.disabled?l=e===s?t.gray().underline(i.title):t.strikethrough().gray(i.title):(l=e===s?t.cyan().underline(i.title):i.title,e===s&&i.description&&(u=` - ${i.description}`,(o.length+l.length+u.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(u="\n"+h(i.description,{margin:o.length,width:this.out.columns})))),o+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,s=l(this.cursor,e.length,this.optionsPerPage),r=s.startIndex,o=s.endIndex,h=[];for(let t=r;t<o;t++)i=t===r&&r>0?n.arrowUp:t===o-1&&o<e.length?n.arrowDown:" ",h.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+h.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},at}function Jt(){if(pt)return dt;function t(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}pt=1;const e=Ot(),i=Et(),s=Tt(),r=s.erase,n=s.cursor,o=_t(),h=o.style,l=o.clear,u=o.figures,a=o.wrap,c=o.entriesToDisplay,d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),p=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return dt=class extends i{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=h.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=l("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(e){var i,s=this;return(i=function*(){const t=s.completing=s.suggest(s.input,s.choices),i=yield t;if(s.completing!==t)return;s.suggestions=i.map(((t,e,i)=>({title:p(i,e),value:d(i,e),description:t.description}))),s.completing=!1;const r=Math.max(i.length-1,0);s.moveSelect(Math.min(r,s.select)),e&&e()},function(){var e=this,s=arguments;return new Promise((function(r,n){var o=i.apply(e,s);function h(e){t(o,r,n,h,l,"next",e)}function l(e){t(o,r,n,h,l,"throw",e)}h(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${t}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,i,s,r){let n,o=s?u.arrowUp:r?u.arrowDown:" ",h=i?e.cyan().underline(t.title):t.title;return o=(i?e.cyan(u.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n="\n"+a(t.description,{margin:3,width:this.out.columns}))),o+" "+h+e.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(n.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let t=c(this.select,this.choices.length,this.limit),i=t.startIndex,s=t.endIndex;if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(i,s).map(((t,e)=>this.renderOption(t,this.select===e+i,0===e&&i>0,e+i===s-1&&s<this.choices.length))).join("\n");this.outputText+="\n"+(t||e.gray(this.fallback.title))}this.out.write(r.line+n.to(0)+this.outputText)}},dt}function Wt(){if(gt)return ft;gt=1;const t=Ot(),e=Tt().cursor,i=qt(),s=_t(),r=s.clear,n=s.style,o=s.figures;return ft=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=r("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${o.arrowUp}/${o.arrowDown}: Highlight option\n    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,s){let r;return r=i.disabled?e===s?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===s?t.cyan().underline(i.title):i.title,(i.selected?t.green(o.radioOn):o.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},ft}function Gt(){if(vt)return mt;vt=1;const t=Ot(),e=Et(),i=_t(),s=i.style,r=i.clear,n=Tt(),o=n.erase,h=n.cursor;return mt=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(o.line+h.to(0)+this.outputText))}}}function Zt(){return wt||(wt=1,function(t){const e=$t,i=bt?yt:(bt=1,yt={TextPrompt:Dt(),SelectPrompt:It(),TogglePrompt:At(),DatePrompt:zt(),NumberPrompt:Kt(),MultiselectPrompt:qt(),AutocompletePrompt:Jt(),AutocompleteMultiselectPrompt:Wt(),ConfirmPrompt:Gt()}),s=t=>t;function r(t,e,r={}){return new Promise(((n,o)=>{const h=new i[t](e),l=r.onAbort||s,u=r.onSubmit||s,a=r.onExit||s;h.on("state",e.onState||s),h.on("submit",(t=>n(u(t)))),h.on("exit",(t=>n(a(t)))),h.on("abort",(t=>o(l(t))))}))}e.text=t=>r("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>r("NumberPrompt",t),e.date=t=>r("DatePrompt",t),e.confirm=t=>r("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return r("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>r("TogglePrompt",t),e.select=t=>r("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),r("AutocompletePrompt",t))}()),$t}var Qt,Xt,te,ee,ie,se,re,ne,oe,he,le,ue,ae,ce,de,pe,fe,ge,me,ve,ye,be,we,xe,Se,$e,Oe,Me,Te,je,ke,Pe,Ce,_e,Ee,De,Ie,Ae,Fe,Re,Ve,Ye,Ne,Le,He,Ue,Be,ze,Ke,qe,Je,We,Ge,Ze,Qe,Xe,ti,ei,ii,si,ri,ni,oi,hi={};function li(){return ee?te:(ee=1,te=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function ui(){if(se)return ie;se=1;const t=li(),{erase:e,cursor:i}=Tt();return ie=function(s,r){if(!r)return e.line+i.to(0);let n=0;const o=s.split(/\r?\n/);for(let e of o)n+=1+Math.floor(Math.max([...t(e)].length-1,0)/r);return e.lines(n)},ie}function ai(){if(ne)return re;ne=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return re=i}function ci(){if(he)return oe;he=1;const t=Ot(),e=ai(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),s=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return oe={styles:i,render:t=>i[t]||i.default,symbols:s,symbol:(t,e,i)=>e?s.aborted:i?s.exited:t?s.done:s.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,s)=>t.gray(i?s?e.pointerSmall:"+":e.line)}}function di(){if(ue)return le;ue=1;const t=li();return le=function(e,i){let s=String(t(e)||"").split(/\r?\n/);return i?s.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):s.length}}function pi(){return ge?fe:(ge=1,fe={action:Xt?Qt:(Xt=1,Qt=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:ui(),style:ci(),strip:li(),figures:ai(),lines:di(),wrap:ce?ae:(ce=1,ae=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=s||t[t.length-1].length+e.length+1<s?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),entriesToDisplay:pe?de:(pe=1,de=(t,e,i)=>{i=i||e;let s=Math.min(e-i,t-Math.floor(i/2));return s<0&&(s=0),{startIndex:s,endIndex:Math.min(s+i,e)}})})}function fi(){if(ve)return me;ve=1;const t=i,{action:e}=pi(),r=s,{beep:n,cursor:o}=Tt(),h=Ot();return me=class extends r{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const s=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,s),this.in.isTTY&&this.in.setRawMode(!0);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,i)=>{let s=e(i,r);!1===s?this._&&this._(t,i):"function"==typeof this[s]?this[s](i):this.bell()};this.close=()=>{this.out.write(o.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),s.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(n)}render(){this.onRender(h),this.firstRender&&(this.firstRender=!1)}}}function gi(){if(be)return ye;be=1;const t=Ot(),e=fi(),{erase:i,cursor:s}=Tt(),{style:r,clear:n,lines:o,figures:h}=pi();return ye=class extends e{constructor(t={}){super(t),this.transform=r.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=n("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(o(this.outputError,this.out.columns)-1)+n(this.outputError,this.out.columns)),this.out.write(n(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,s)=>e+`\n${s?" ":h.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(i.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore+s.move(this.cursorOffset,0)))}}}function mi(){if(xe)return we;xe=1;const t=Ot(),e=fi(),{style:i,clear:s,figures:r,wrap:n,entriesToDisplay:o}=pi(),{cursor:h}=Tt();return we=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=s("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(h.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:l}=o(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=e;i<l;i++){let s,o,h="",u=this.choices[i];o=i===e&&e>0?r.arrowUp:i===l-1&&l<this.choices.length?r.arrowDown:" ",u.disabled?(s=this.cursor===i?t.gray().underline(u.title):t.strikethrough().gray(u.title),o=(this.cursor===i?t.bold().gray(r.pointer)+" ":"  ")+o):(s=this.cursor===i?t.cyan().underline(u.title):u.title,o=(this.cursor===i?t.cyan(r.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(h=` - ${u.description}`,(o.length+s.length+h.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(h="\n"+n(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${t.gray(h)}\n`}}this.out.write(this.outputText)}}}function vi(){if($e)return Se;$e=1;const t=Ot(),e=fi(),{style:i,clear:s}=pi(),{cursor:r,erase:n}=Tt();return Se=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(n.line+r.to(0)+this.outputText))}}}function yi(){if(Me)return Oe;Me=1;class t{constructor({token:t,date:e,parts:i,locales:s}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,s)=>s>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,s)=>s>i&&e instanceof t))}toString(){return String(this.date)}}return Oe=t}function bi(){if(je)return Te;je=1;const t=yi();return Te=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}}function wi(){if(Pe)return ke;Pe=1;const t=yi();return ke=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},ke}function xi(){if(_e)return Ce;_e=1;const t=yi();return Ce=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}}function Si(){if(De)return Ee;De=1;const t=yi();return Ee=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function $i(){if(Ae)return Ie;Ae=1;const t=yi();return Ie=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Oi(){if(Re)return Fe;Re=1;const t=yi();return Fe=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}}function Mi(){if(Ye)return Ve;Ye=1;const t=yi();return Ve=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Ti(){if(Le)return Ne;Le=1;const t=yi();return Ne=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}}function ji(){if(ze)return Be;ze=1;const t=Ot(),e=fi(),{style:i,clear:s,figures:r}=pi(),{erase:n,cursor:o}=Tt(),{DatePart:h,Meridiem:l,Day:u,Hours:a,Milliseconds:c,Minutes:d,Month:p,Seconds:f,Year:g}=Ue?He:(Ue=1,He={DatePart:yi(),Meridiem:bi(),Day:wi(),Hours:xi(),Milliseconds:Si(),Minutes:$i(),Month:Oi(),Seconds:Mi(),Year:Ti()}),m=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,v={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new u(t),3:t=>new p(t),4:t=>new g(t),5:t=>new l(t),6:t=>new a(t),7:t=>new d(t),8:t=>new f(t),9:t=>new c(t)},y={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return Be=class extends e{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(y,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=s("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=m.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in v?v[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof h))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof h))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.parts.reduce(((e,i,s)=>e.concat(s!==this.cursor||this.done?i:t.cyan().underline(i.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,i,s)=>e+`\n${s?" ":r.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(n.line+o.to(0)+this.outputText))}}}function ki(){if(qe)return Ke;qe=1;const t=Ot(),e=fi(),{cursor:i,erase:s}=Tt(),{style:r,figures:n,clear:o,lines:h}=pi(),l=/[0-9]/,u=t=>void 0!==t,a=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return Ke=class extends e{constructor(t={}){super(t),this.transform=r.render(t.style),this.msg=t.message,this.initial=u(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=u(t.min)?t.min:-1/0,this.max=u(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${a(e,this.round)}`),this._value=a(e,this.round)):(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||l.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(h(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:t[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,s)=>e+`\n${s?" ":n.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(s.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}}function Pi(){if(We)return Je;We=1;const t=Ot(),{cursor:e}=Tt(),i=fi(),{clear:s,figures:r,style:n,wrap:o,entriesToDisplay:h}=pi();return Je=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=s("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${r.arrowUp}/${r.arrowDown}: Highlight option\n    ${r.arrowLeft}/${r.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,s,n){const h=(i.selected?t.green(r.radioOn):r.radioOff)+" "+n+" ";let l,u;return i.disabled?l=e===s?t.gray().underline(i.title):t.strikethrough().gray(i.title):(l=e===s?t.cyan().underline(i.title):i.title,e===s&&i.description&&(u=` - ${i.description}`,(h.length+l.length+u.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(u="\n"+o(i.description,{margin:h.length,width:this.out.columns})))),h+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,{startIndex:s,endIndex:n}=h(this.cursor,e.length,this.optionsPerPage),o=[];for(let t=s;t<n;t++)i=t===s&&s>0?r.arrowUp:t===n-1&&n<e.length?r.arrowDown:" ",o.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},Je}function Ci(){if(Ze)return Ge;Ze=1;const t=Ot(),e=fi(),{erase:i,cursor:s}=Tt(),{style:r,clear:n,figures:o,wrap:h,entriesToDisplay:l}=pi(),u=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),a=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return Ge=class extends e{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=r.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=n("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=u(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),i=await e;if(this.completing!==e)return;this.suggestions=i.map(((t,e,i)=>({title:a(i,e),value:u(i,e),description:t.description}))),this.completing=!1;const s=Math.max(i.length-1,0);this.moveSelect(Math.min(s,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${t}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,s,r){let n,l=s?o.arrowUp:r?o.arrowDown:" ",u=i?t.cyan().underline(e.title):e.title;return l=(i?t.cyan(o.pointer)+" ":"  ")+l,e.description&&(n=` - ${e.description}`,(l.length+u.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n="\n"+h(e.description,{margin:3,width:this.out.columns}))),l+" "+u+t.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:o}=l(this.select,this.choices.length,this.limit);if(this.outputText=[r.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),r.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(e,o).map(((t,i)=>this.renderOption(t,this.select===i+e,0===i&&e>0,i+e===o-1&&o<this.choices.length))).join("\n");this.outputText+="\n"+(i||t.gray(this.fallback.title))}this.out.write(i.line+s.to(0)+this.outputText)}}}function _i(){if(Xe)return Qe;Xe=1;const t=Ot(),{cursor:e}=Tt(),i=Pi(),{clear:s,style:r,figures:n}=pi();return Qe=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=s("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,s){let r;return r=i.disabled?e===s?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===s?t.cyan().underline(i.title):i.title,(i.selected?t.green(n.radioOn):n.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},Qe}function Ei(){if(ei)return ti;ei=1;const t=Ot(),e=fi(),{style:i,clear:s}=pi(),{erase:r,cursor:n}=Tt();return ti=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(r.line+n.to(0)+this.outputText))}}}function Di(){return ri||(ri=1,function(t){const e=hi,i=si?ii:(si=1,ii={TextPrompt:gi(),SelectPrompt:mi(),TogglePrompt:vi(),DatePrompt:ji(),NumberPrompt:ki(),MultiselectPrompt:Pi(),AutocompletePrompt:Ci(),AutocompleteMultiselectPrompt:_i(),ConfirmPrompt:Ei()}),s=t=>t;function r(t,e,r={}){return new Promise(((n,o)=>{const h=new i[t](e),l=r.onAbort||s,u=r.onSubmit||s,a=r.onExit||s;h.on("state",e.onState||s),h.on("submit",(t=>n(u(t)))),h.on("exit",(t=>n(a(t)))),h.on("abort",(t=>o(l(t))))}))}e.text=t=>r("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>r("NumberPrompt",t),e.date=t=>r("DatePrompt",t),e.confirm=t=>r("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return r("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>r("TogglePrompt",t),e.select=t=>r("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),r("AutocompletePrompt",t))}()),hi}var Ii=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}("8.6.0")?function(){if(St)return xt;function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function e(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{};s%2?t(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return h=t.done,t},e:function(t){l=!0,o=t},f:function(){try{h||null==i.return||i.return()}finally{if(l)throw o}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function n(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var o=t.apply(e,i);function h(t){n(o,s,r,h,l,"next",t)}function l(t){n(o,s,r,h,l,"throw",t)}h(void 0)}))}}St=1;const h=Zt(),l=["suggest","format","onState","validate","onRender","type"],u=()=>{};function a(){return c.apply(this,arguments)}function c(){return c=o((function*(t=[],{onSubmit:i=u,onCancel:r=u}={}){const n={},c=a._override||{};let p,f,g,m,v,y;t=[].concat(t);const b=function(){var t=o((function*(t,e,i=!1){if(i||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,n):e}));return function(e,i){return t.apply(this,arguments)}}();var w,x=s(t);try{for(x.s();!(w=x.n()).done;){f=w.value;var S=f;if(m=S.name,v=S.type,"function"==typeof v&&(v=yield v(p,e({},n),f),f.type=v),v){for(let t in f){if(l.includes(t))continue;let i=f[t];f[t]="function"==typeof i?yield i(p,e({},n),y):i}if(y=f,"string"!=typeof f.message)throw new Error("prompt message is required");var $=f;if(m=$.name,v=$.type,void 0===h[v])throw new Error(`prompt type (${v}) is not defined`);if(void 0===c[f.name]||(p=yield b(f,c[f.name]),void 0===p)){try{p=a._injected?d(a._injected,f.initial):yield h[v](f),n[m]=p=yield b(f,p,!0),g=yield i(f,p,n)}catch(t){g=!(yield r(f,n))}if(g)return n}else n[m]=p}}}catch(t){x.e(t)}finally{x.f()}return n})),c.apply(this,arguments)}function d(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return xt=Object.assign(a,{prompt:a,prompts:h,inject:function(t){a._injected=(a._injected||[]).concat(t)},override:function(t){a._override=Object.assign({},t)}})}():function(){if(oi)return ni;oi=1;const t=Di(),e=["suggest","format","onState","validate","onRender","type"],i=()=>{};async function s(n=[],{onSubmit:o=i,onCancel:h=i}={}){const l={},u=s._override||{};let a,c,d,p,f,g;n=[].concat(n);const m=async(t,e,i=!1)=>{if(i||!t.validate||!0===t.validate(e))return t.format?await t.format(e,l):e};for(c of n)if(({name:p,type:f}=c),"function"==typeof f&&(f=await f(a,{...l},c),c.type=f),f){for(let t in c){if(e.includes(t))continue;let i=c[t];c[t]="function"==typeof i?await i(a,{...l},g):i}if(g=c,"string"!=typeof c.message)throw new Error("prompt message is required");if(({name:p,type:f}=c),void 0===t[f])throw new Error(`prompt type (${f}) is not defined`);if(void 0===u[c.name]||(a=await m(c,u[c.name]),void 0===a)){try{a=s._injected?r(s._injected,c.initial):await t[f](c),l[p]=a=await m(c,a,!0),d=await o(c,a,l)}catch(t){d=!await h(c,l)}if(d)return l}else l[p]=a}return l}function r(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return ni=Object.assign(s,{prompt:s,prompts:t,inject:function(t){s._injected=(s._injected||[]).concat(t)},override:function(t){s._override=Object.assign({},t)}})}();const Ai="⚠️",Fi="❌️";let Ri=!0;const Vi="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};let Yi=0;if(Vi.process&&Vi.process.env&&Vi.process.stdout){const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:i}=Vi.process.env;Ri=!e&&"0"!==t&&("1"===t||"dumb"!==i&&(!(!("CI"in Vi.process.env)||!["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((t=>t in Vi.process.env)))||process.stdout.isTTY)),Ri&&(Yi=i&&i.endsWith("-256color")?2:1)}let Ni=Ri,Li=Yi;function Hi(t,e,i=1){const s=`[${t}m`,r=`[${e}m`,n=new RegExp(`\\x1b\\[${e}m`,"g");return t=>Ni&&Li>=i?s+(""+t).replace(n,s)+r:""+t}const Ui=Hi(1,22),Bi=Hi(31,39),zi=Hi(32,39);function Ki(e){if(!t.existsSync(e))return!0;const i=t.readdirSync(e);return 0===i.length||1===i.length&&".git"===i[0]}function qi(i){if(t.existsSync(i))for(const s of t.readdirSync(i)){const r=e.resolve(i,s);t.lstatSync(r).isDirectory()?(qi(r),t.rmdirSync(r)):t.unlinkSync(r)}}function Ji(t,e){return"install"===e?"yarn"===t?"yarn":`${t} install`:"npm"===t?`npm run ${e}`:`${t} ${e}`}var Wi;const Gi=null!==(Wi=process.env.npm_config_user_agent)&&void 0!==Wi?Wi:"";const Zi=t=>t&&"object"==typeof t;function Qi(t,e){for(const r of Object.keys(e)){const n=t[r],o=e[r];Array.isArray(n)&&Array.isArray(o)?t[r]=(i=n,s=o,Array.from(new Set([...i,...s]))):Zi(n)&&Zi(o)?t[r]=Qi(n,o):t[r]=o}var i,s;return t}function Xi(i,s){if(t.statSync(i).isDirectory()){if("node_modules"===e.basename(i))return;t.mkdirSync(s,{recursive:!0});for(const r of t.readdirSync(i))Xi(e.resolve(i,r),e.resolve(s,r));return}const r=e.basename(i);if("package.json"===r&&t.existsSync(s)){const e=Qi(JSON.parse(t.readFileSync(s,"utf8")),JSON.parse(t.readFileSync(i,"utf8")));t.writeFileSync(s,`${JSON.stringify(e,null,2)}\n`)}else r.startsWith("_")&&(s=e.resolve(e.dirname(s),r.replace(/^_/,"."))),t.copyFileSync(i,s)}var ts={},es={},is={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyPath=t.quoteKey=t.isValidVariableName=t.IS_VALID_IDENTIFIER=t.quoteString=void 0;const e=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=new Map([["\b","\\b"],["\t","\\t"],["\n","\\n"],["\f","\\f"],["\r","\\r"],["'","\\'"],['"','\\"'],["\\","\\\\"]]);function s(t){return i.get(t)||`\\u${`0000${t.charCodeAt(0).toString(16)}`.slice(-4)}`}t.quoteString=function(t){return`'${t.replace(e,s)}'`};const r=new Set("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "));function n(e){return"string"==typeof e&&!r.has(e)&&t.IS_VALID_IDENTIFIER.test(e)}t.IS_VALID_IDENTIFIER=/^[A-Za-z_$][A-Za-z0-9_$]*$/,t.isValidVariableName=n,t.quoteKey=function(t,e){return n(t)?t:e(t)},t.stringifyPath=function(t,e){let i="";for(const s of t)n(s)?i+=`.${s}`:i+=`[${e(s)}]`;return i}}(is);var ss={},rs={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionParser=t.dedentFunction=t.functionToString=t.USED_METHOD_KEY=void 0;const e=is,i='"'==={" "(){}}[" "].toString().charAt(0),s={Function:"function ",GeneratorFunction:"function* ",AsyncFunction:"async function ",AsyncGeneratorFunction:"async function* "},r={Function:"",GeneratorFunction:"*",AsyncFunction:"async ",AsyncGeneratorFunction:"async *"},n=new Set("case delete else in instanceof new return throw typeof void , ; : + - ! ~ & | ^ * / % < > ? =".split(" "));t.USED_METHOD_KEY=new WeakSet;function o(t){let e;for(const i of t.split("\n").slice(1)){const s=/^[\s\t]+/.exec(i);if(!s)return t;const[r]=s;(void 0===e||r.length<e.length)&&(e=r)}return e?t.split(`\n${e}`).join("\n"):t}t.functionToString=(e,i,s,r)=>{const n="string"==typeof r?r:void 0;return void 0!==n&&t.USED_METHOD_KEY.add(e),new h(e,i,s,n).stringify()},t.dedentFunction=o;class h{constructor(t,i,s,r){this.fn=t,this.indent=i,this.next=s,this.key=r,this.pos=0,this.hadKeyword=!1,this.fnString=Function.prototype.toString.call(t),this.fnType=t.constructor.name,this.keyQuote=void 0===r?"":e.quoteKey(r,s),this.keyPrefix=void 0===r?"":`${this.keyQuote}:${i?" ":""}`,this.isMethodCandidate=void 0!==r&&(""===this.fn.name||this.fn.name===r)}stringify(){const t=this.tryParse();return t?o(t):`${this.keyPrefix}void ${this.next(this.fnString)}`}getPrefix(){return this.isMethodCandidate&&!this.hadKeyword?r[this.fnType]+this.keyQuote:this.keyPrefix+s[this.fnType]}tryParse(){if("}"!==this.fnString[this.fnString.length-1])return this.keyPrefix+this.fnString;if(this.fn.name){const t=this.tryStrippingName();if(t)return t}const t=this.pos;if("class"===this.consumeSyntax())return this.fnString;if(this.pos=t,this.tryParsePrefixTokens()){const t=this.tryStrippingName();if(t)return t;let e=this.pos;switch(this.consumeSyntax("WORD_LIKE")){case"WORD_LIKE":this.isMethodCandidate&&!this.hadKeyword&&(e=this.pos);case"()":if("=>"===this.fnString.substr(this.pos,2))return this.keyPrefix+this.fnString;this.pos=e;case'"':case"'":case"[]":return this.getPrefix()+this.fnString.substr(this.pos)}}}tryStrippingName(){if(i)return;let t=this.pos;const s=this.fnString.substr(this.pos,this.fn.name.length);if(s===this.fn.name&&(this.pos+=s.length,"()"===this.consumeSyntax()&&"{}"===this.consumeSyntax()&&this.pos===this.fnString.length))return!this.isMethodCandidate&&e.isValidVariableName(s)||(t+=s.length),this.getPrefix()+this.fnString.substr(t);this.pos=t}tryParsePrefixTokens(){let t=this.pos;switch(this.hadKeyword=!1,this.fnType){case"AsyncFunction":if("async"!==this.consumeSyntax())return!1;t=this.pos;case"Function":return"function"===this.consumeSyntax()?this.hadKeyword=!0:this.pos=t,!0;case"AsyncGeneratorFunction":if("async"!==this.consumeSyntax())return!1;case"GeneratorFunction":let e=this.consumeSyntax();return"function"===e&&(e=this.consumeSyntax(),this.hadKeyword=!0),"*"===e}}consumeSyntax(t){const e=this.consumeMatch(/^(?:([A-Za-z_0-9$\xA0-\uFFFF]+)|=>|\+\+|\-\-|.)/);if(!e)return;const[i,s]=e;if(this.consumeWhitespace(),s)return t||s;switch(i){case"(":return this.consumeSyntaxUntil("(",")");case"[":return this.consumeSyntaxUntil("[","]");case"{":return this.consumeSyntaxUntil("{","}");case"`":return this.consumeTemplate();case'"':return this.consumeRegExp(/^(?:[^\\"]|\\.)*"/,'"');case"'":return this.consumeRegExp(/^(?:[^\\']|\\.)*'/,"'")}return i}consumeSyntaxUntil(t,e){let i=!0;for(;;){const s=this.consumeSyntax();if(s===e)return t+e;if(!s||")"===s||"]"===s||"}"===s)return;"/"===s&&i&&this.consumeMatch(/^(?:\\.|[^\\\/\n[]|\[(?:\\.|[^\]])*\])+\/[a-z]*/)?(i=!1,this.consumeWhitespace()):i=n.has(s)}}consumeMatch(t){const e=t.exec(this.fnString.substr(this.pos));return e&&(this.pos+=e[0].length),e}consumeRegExp(t,e){const i=t.exec(this.fnString.substr(this.pos));if(i)return this.pos+=i[0].length,this.consumeWhitespace(),e}consumeTemplate(){for(;;){if(this.consumeMatch(/^(?:[^`$\\]|\\.|\$(?!{))*/),"`"===this.fnString[this.pos])return this.pos++,this.consumeWhitespace(),"`";if("${"!==this.fnString.substr(this.pos,2)||(this.pos+=2,this.consumeWhitespace(),!this.consumeSyntaxUntil("{","}")))return}}consumeWhitespace(){this.consumeMatch(/^(?:\s|\/\/.*|\/\*[^]*?\*\/)*/)}}t.FunctionParser=h}(rs);var ns={};Object.defineProperty(ns,"__esModule",{value:!0}),ns.arrayToString=void 0;ns.arrayToString=(t,e,i)=>{const s=t.map((function(t,s){const r=i(t,s);return void 0===r?String(r):e+r.split("\n").join(`\n${e}`)})).join(e?",\n":","),r=e&&s?"\n":"";return`[${r}${s}${r}]`},Object.defineProperty(ss,"__esModule",{value:!0}),ss.objectToString=void 0;const os=is,hs=rs,ls=ns;ss.objectToString=(t,e,i,s)=>{if("function"==typeof Buffer&&Buffer.isBuffer(t))return`Buffer.from(${i(t.toString("base64"))}, 'base64')`;if("object"==typeof o&&t===o)return us(t,e,i);const r=as[Object.prototype.toString.call(t)];return r?r(t,e,i,s):void 0};const us=(t,e,i)=>`Function(${i("return this")})()`,as={"[object Array]":ls.arrayToString,"[object Object]":(t,e,i,s)=>{const r=e?"\n":"",n=e?" ":"",o=Object.keys(t).reduce((function(s,r){const o=t[r],h=i(o,r);if(void 0===h)return s;const l=h.split("\n").join(`\n${e}`);return hs.USED_METHOD_KEY.has(o)?(s.push(`${e}${l}`),s):(s.push(`${e}${os.quoteKey(r,i)}:${n}${l}`),s)}),[]).join(`,${r}`);return""===o?"{}":`{${r}${o}${r}}`},"[object Error]":(t,e,i)=>`new Error(${i(t.message)})`,"[object Date]":t=>`new Date(${t.getTime()})`,"[object String]":(t,e,i)=>`new String(${i(t.toString())})`,"[object Number]":t=>`new Number(${t})`,"[object Boolean]":t=>`new Boolean(${t})`,"[object Set]":(t,e,i)=>`new Set(${i(Array.from(t))})`,"[object Map]":(t,e,i)=>`new Map(${i(Array.from(t))})`,"[object RegExp]":String,"[object global]":us,"[object Window]":us};Object.defineProperty(es,"__esModule",{value:!0}),es.toString=void 0;const cs=rs,ds={string:is.quoteString,number:t=>Object.is(t,-0)?"-0":String(t),boolean:String,symbol:(t,e,i)=>{const s=Symbol.keyFor(t);return void 0!==s?`Symbol.for(${i(s)})`:`Symbol(${i(t.description)})`},bigint:(t,e,i)=>`BigInt(${i(String(t))})`,undefined:String,object:ss.objectToString,function:cs.functionToString};es.toString=(t,e,i,s)=>null===t?"null":ds[typeof t](t,e,i,s),Object.defineProperty(ts,"__esModule",{value:!0});var ps=ts.stringify=void 0;const fs=es,gs=is,ms=Symbol("root");function vs(e,i){const{isNeedTs:s}=i,n=`module.exports = ${o={serverPort:9527,copyFile:["./config.js"],html:[{name:"index",title:"React App",entry:"./src/index."+(s?"tsx":"jsx"),template:"./public/index.html",favicon:"./public/favicon.ico"}]},ps(o,null,2)}`;var o;t.writeFileSync(r.resolve(e,"rcapp.config.js"),n,"utf-8")}ps=ts.stringify=function(t,e,i,s={}){const r="string"==typeof i?i:" ".repeat(i||0),n=[],o=new Set,h=new Map,l=new Map;let u=0;const{maxDepth:a=100,references:c=!1,skipUndefinedProperties:d=!1,maxValues:p=1e5}=s,f=function(t){return t?(e,i,s,r)=>t(e,i,(t=>fs.toString(t,i,s,r)),r):fs.toString}(e),g=(t,e)=>{if(++u>p)return;if(d&&void 0===t)return;if(n.length>a)return;if(void 0===e)return f(t,r,g,e);n.push(e);const i=m(t,e===ms?void 0:e);return n.pop(),i},m=c?(t,e)=>{if(null!==t&&("object"==typeof t||"function"==typeof t||"symbol"==typeof t)){if(h.has(t))return l.set(n.slice(1),h.get(t)),f(void 0,r,g,e);h.set(t,n.slice(1))}return f(t,r,g,e)}:(t,e)=>{if(o.has(t))return;o.add(t);const i=f(t,r,g,e);return o.delete(t),i},v=g(t,ms);if(l.size){const t=r?" ":"",e=r?"\n":"";let i=`var x${t}=${t}${v};${e}`;for(const[s,r]of l.entries()){i+=`x${gs.stringifyPath(s,g)}${t}=${t}x${gs.stringifyPath(r,g)};${e}`}return`(function${t}()${t}{${e}${i}return x;${e}}())`}return v};var ys={"@commitlint/cli":"^17.3.0","@commitlint/config-conventional":"^17.3.0","@rollup/plugin-commonjs":"^23.0.3","@rollup/plugin-json":"^5.0.2","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-terser":"^0.2.0","@rollup/plugin-typescript":"^10.0.1","@szchason/eslint-config-base":"^0.0.2","@szchason/eslint-config-typescript":"^0.0.3","@types/node":"^18.11.10","@types/react":"^18.0.8","@types/react-css-modules":"^4.6.4","@types/react-dom":"^18.0.3","@types/react-redux":"^7.1.24","@types/react-router":"^5.1.19","@typescript-eslint/eslint-plugin":"^5.39.0","@typescript-eslint/parser":"^5.39.0",eslint:"^8.2.0","eslint-import-resolver-typescript":"^3.5.1","eslint-plugin-import":"^2.26.0",husky:"^8.0.2","lint-staged":"^13.1.0","react-router-dom":"^6.5.0",rollup:"^3.5.1",typescript:"^4.9.3"};function bs(i,{needsTypescript:s}){const{pkg:r,eslintConfig:n}=function({needsTypescript:t}){const e={devDependencies:{},scripts:{}};e.scripts={eslint:`npx eslint src/**/*.{${t?"tsx,ts,jsx,js":"jsx,js"}}`};const i=t=>{e.devDependencies[t]=ys[t]};t&&(i("@typescript-eslint/eslint-plugin"),i("@typescript-eslint/parser"),i("@szchason/eslint-config-typescript"));const s=["@szchason/eslint-config-react"],r=[".js",".jsx"],n={env:{browser:!0,es6:!0},globals:{GLOBAL:!0},extends:t?s.concat(["@szchason/eslint-config-typescript"]):s,settings:{"import/resolver":{alias:{map:[["@",'path.join(__dirname, "src")']],extensions:t?[".tsx",".ts"].concat(r):r}}}};return{pkg:e,eslintConfig:n}}({needsTypescript:s}),o=e.resolve(i,"package.json"),h=e.resolve(i,".eslintrc.js"),l=function(t){const e={},i=["dependencies","devDependencies","peerDependencies","optionalDependencies"];for(const s of i)t[s]&&(e[s]={},Object.keys(t[s]).sort().forEach((i=>{e[s][i]=t[s][i]})));return Object.assign(Object.assign({},t),e)}(Qi(JSON.parse(t.readFileSync(o,"utf8")),r));t.writeFileSync(o,`${JSON.stringify(l,null,2)}\n`,"utf-8");const u=`module.exports = ${a=n,ps(a,((t,e,i)=>'path.join(__dirname, "src")'===t?t.replace(/'/g,""):i(t)),2)}`;var a;t.writeFileSync(h,"const path = require('path');\n\n"+u,"utf-8")}function ws(t){console.log(),console.log(t),console.log(),process.exit()}(function(){return n(this,void 0,void 0,(function*(){console.log("\nTip: You are creating a new React application\n");const i=h(process.argv.slice(2),{alias:{typescript:["ts"]}}),{ts:s}=i;let r;const n=process.cwd(),o=i._[0],l=o?e.resolve(n,o):n;try{r=yield Ii([{name:"isCurrentDir",type:o?null:"confirm",message:"Create project under current directory?",initial:!0},{name:"shouldOverwrite",type:()=>Ki(l)?null:"confirm",message:()=>Ki(l)?o&&`Target directory ${zi(o.toLowerCase())} is not empty. Remove existing files and continue?`:"The directory already exists and is not empty. Remove existing files and continue?",initial:!0},{name:"overwriteChecker",type:t=>(!1===t&&ws(`${Bi(Ai)} ${Bi("Operation cancelled")}`),null)},{name:"needsTypeScript",type:()=>s?null:"toggle",message:"Add TypeScript for Application development?",initial:!0,active:"Yes",inactive:"No"},{name:"needsEslint",type:"toggle",message:"Add ESLint for code quality?",initial:!0,active:"Yes",inactive:"No"},{name:"needsStylelint",type:"toggle",message:"Add StyleLint for Scss code quality?",initial:!0,active:"Yes",inactive:"No"}],{onCancel:()=>{ws(`${Bi(Fi)} ${Bi("Operation cancelled")}`)}})}catch(t){console.log(t),process.exit(1)}const{shouldOverwrite:u,isCurrentDir:a,needsTypeScript:c,needsStylelint:d,needsEslint:p}=r,f=a?e.basename(n):o;u?qi(l):t.existsSync(l)||t.mkdirSync(l,{recursive:!0}),console.log(),console.log(`Creating a new React app in ${zi(l)}.`),process.chdir(l);const g=/pnpm/.test(Gi)?"pnpm":/yarn/.test(Gi)?"yarn":"npm",m={name:f||"React app",version:"0.0.1",description:"React Project"};t.writeFileSync(e.join(l,"package.json"),JSON.stringify(m,null,2));const v=e.resolve(__dirname,"template"),y=s||c;function b(t,i="/"){Xi(e.resolve(v,t),`${l}/${i}`)}b("default"),vs(l,{isNeedTs:y}),b(y?"template-react-ts":"template-react"),p&&(bs(l,{needsTypescript:y}),b("eslint")),d&&b("stylelint"),console.log("\nDone. Now run:\n"),l!==n&&console.log(`${Ui(zi(`cd ${e.relative(n,l)}`))}`),console.log(`  ${Ui(zi(Ji(g,"install")))}`),console.log(`  ${Ui(zi(Ji(g,"dev")))}`),console.log()}))})().catch((t=>{console.error(t)}));
